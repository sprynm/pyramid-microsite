@use "theme" as *;
/* -- NAV (GENERAL) START -- */
nav {
  ul {
    list-style-type: none;
    margin: 0;
    display: flex;
    gap: clamp(1.25rem, 3vw, 1.875rem); 
  }

  a {
    font-family: var(--font-sans);
    color: var(--color-ink-primary);
    display: flex;
    justify-content: center;
    align-items: center;
    text-decoration: none;
    font-size: var(--step-1);
    padding: 1rem 0;
    letter-spacing: 0.025em; /* 25/1000 */
  }

  
  a:visited {
    color: var(--color-ink-primary);
  }
  a:hover,
  a:focus {
    color: var(--color-brand-primary);
  }
}
/* -- NAV (GENERAL) END -- */
// NAVIGATION ****************************************************************


.subnav {
  &--select {
    margin-bottom: var(--space-md);
  }

  &--list {
    display: none;

    ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: grid;
      gap: var(--space-sm);
    }

    li {
      margin: 0;
    }

    a {
      display: block;
      padding: clamp(0.5625rem, 2vw, 0.6875rem) clamp(1rem, 4vw, 1.5rem);
      border-radius: var(--radius-md);
      background: rgb(var(--color-brand-primary-rgb) / 0.06);
      color: inherit;
      text-decoration: none;
      transition: background 150ms ease, color 150ms ease;
    }

    a:hover,
    a:focus {
      background: rgb(var(--color-brand-primary-rgb) / 0.12);
    }

    a[aria-current="page"] {
      background: rgb(var(--color-brand-primary-rgb) / 0.18);
      font-weight: 600;
    }
  }
}

@media (min-width: breakpoint("md")) {
  .subnav {
    &--select {
      display: none;
    }

    &--list {
      display: block;
      position: static;
      font-family: var(--font-sans);
      color: var(--color-ink-primary);
      max-width: 17.5rem;

      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        row-gap: 0.25rem;
      }

      li {
        margin: 0;

        &:not(.first) + li a {
          border-top: 1px solid rgb(var(--color-ink-absolute-rgb) / 0.06);
        }
      }

      a {
        display: block;
        text-decoration: none;
        // padding: 0.375rem 0.625rem;
        border-radius: var(--radius-sm);
        line-height: 1.35;
        font-size: var(--step--1);
        color: var(--color-ink-muted);
        background: transparent;
        transition: background 120ms ease, color 120ms ease;
      }

      a:hover {
        background: var(--color-surface-soft);
      }

      a:focus {
        background: transparent;
      }

      a:focus-visible {
        outline: 2px solid var(--color-focus-ring);
        outline-offset: 2px;
      }

      .current > a,
      a[aria-current="page"] {
        background: var(--color-brand-primary);
        color: var(--color-ink-on-dark);
        font-weight: 600;
      }

      // .first > a {
      //   font-family: $fontSerif;
      //   font-size: var(--step-2);
      //   font-weight: 700;
      //   color: var(--color-brand-primary);
      //   background: var(--color-surface-muted);
      //   border: 1px solid var(--color-border-muted);
      //   padding: 0.5rem 0.75rem;
      // }

    &.jumpnav  .current > a {
        position: relative;
        &::before {  // arrow pointer left
          content: "";
          position: absolute;
          left: calc(-0.95 * 0.625rem);
          top: 50%;
          transform: translateY(-50%);
          width: 0;
          height: 0;
          border-style: solid;
          border-width: calc(1 * 0.625rem) calc(1 * 0.625rem) calc(1 * 0.625rem) 0;
          border-color: transparent var(--color-brand-primary) transparent  transparent;
        }

      }

      // a:visited:not([aria-current]) {
      //   color: var(--color-brand-primary-visited);
      // }
    }
  }
}
