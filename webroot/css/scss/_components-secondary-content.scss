@use "theme" as *;
// 20px -> 40px
$secondary-pad-block: clamp(1.25rem, 4vw, 2.5rem);
// 32px -> 56px
$secondary-margin-bottom: clamp(2rem, 3.30189vw, 3.5rem);
// 16px -> 36px
$secondary-gap: clamp(1rem, 3.5vw, 2.25rem);
// 8px -> 12px
$secondary-title-margin-bottom: clamp(0.5rem, 2vw, 0.75rem);
// 22px -> 36px
$secondary-title-size: clamp(1.375rem, 3.2vw, 2.25rem);
// 12px -> 20px
$secondary-list-margin-bottom: clamp(0.75rem, 3vw, 1.25rem);
// 7.5px
$secondary-cta-margin-top: 0.46875rem;
// 6px / 9px
$secondary-cta-pad-y: 0.375rem;
$secondary-cta-pad-x: 0.5625rem;
// 16px -> 24px
$secondary-row-gap: clamp(1rem, 5vw, 1.5rem);
/* ==== Section (full-width platter) ==== */
.secondary-content {
  --frame: var(--color-ink-on-dark);
  --text: var(--color-ink-on-dark);
  --text-muted: rgb(var(--color-surface-base-rgb) / 0.78);

  padding-block: $secondary-pad-block;
  margin-bottom: $secondary-margin-bottom;
  position: relative;
  overflow: hidden;
  background: transparent; /* key */
  color: var(--color-ink-on-dark);
}

/* Blue tint that multiplies with page tile */
.secondary-content:before {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--color-brand-secondary);
  mix-blend-mode: multiply;
  pointer-events: none;
  z-index: 0;
}

/* Local contrast lift within the oval only */
.secondary-content:after {
  content: "";
  position: absolute;
  inset: 0;
  background: rgb(var(--color-surface-base-rgb) / 0.001); /* trigger backdrop pipeline */
  backdrop-filter: contrast(3.75) brightness(9);
  pointer-events: none;
  z-index: 0;
}

/* wrapperMedium equivalent */
.secondary-content__inner {
  width: calc(100% - var(--inline-padding, 24px) * 2);
  max-width: 75rem;
  margin-inline: auto;
  display: grid;
  grid-template-columns: 1fr 1fr; /* text : image */
  gap: $secondary-gap;
  align-items: stretch;
  position: inherit;
  z-index: 2;
}

/* copy column */
.secondary-content__copy {
  color: var(--text);
}
.secondary-content__copy h2 {
  margin: 0 0 $secondary-title-margin-bottom;
  font-weight: 600;
  line-height: 1.2;
  letter-spacing: 0.02em;
  color: var(--text);
  font-size: $secondary-title-size;
  text-transform: uppercase;
}

/* bullets */
.secondary-content__copy ul {
  margin: 0 0 $secondary-list-margin-bottom;
  padding-left: 1.2em;
  color: var(--text-muted);
  font-size: var(--step-1);
}
.secondary-content__copy li {
  margin: 0.35em 0;
}

/* optional CTA */
.secondary-content .btn {
  display: inline-block;
  margin-top: $secondary-cta-margin-top;
  padding: $secondary-cta-pad-y $secondary-cta-pad-x;
  border-radius: var(--radius-max);
  background: var(--color-brand-accent);
  color: var(--color-ink-on-dark);
  text-decoration: none;
  font-weight: 600;
}

/* === Secondary content (mobile-first) === */

// 1) Layout: stack on mobile
.secondary-content__inner {
  width: calc(100% - var(--inline-padding, 24px) * 2);
  max-width: 75rem;
  margin-inline: auto;

  display: grid;
  grid-template-columns: 1fr; /* mobile: stack */
  row-gap: $secondary-row-gap;
  align-items: stretch;
}

// 2) Media: ratio on the CONTAINER (mobile = 16:10)
.secondary-content__media {
  position: relative;
  overflow: hidden;
  aspect-ratio: 16 / 9; /* match feature-boxes mobile */
  /* optional: put image first on mobile */
  order: -1;
}

/* Fill the box */
.secondary-content__media picture,
.secondary-content__media img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

// 3) Tablet+ adjustments
@media (min-width: breakpoint("sm")) {
  .secondary-content__inner {
    grid-template-columns: 1fr 1fr; /* two columns */
    column-gap: $secondary-gap;
    row-gap: 0;
  }

  .secondary-content__media {
    aspect-ratio: 1 / 1; /* square like feature cards */
    order: 0; /* normal flow */
  }

  .secondary-content__copy {
    display: flex;
    flex-direction: column;
    justify-content: center; /* vertically center text */
  }
}

